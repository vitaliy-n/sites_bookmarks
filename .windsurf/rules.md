# Bookmark Hub ‚Äî Project Rules for Windsurf

## Project Overview
Bookmark Hub ‚Äî –∫–ª—ñ—î–Ω—Ç—Å—å–∫–∏–π SPA –¥–ª—è –æ—Ä–≥–∞–Ω—ñ–∑–∞—Ü—ñ—ó –∑–∞–∫–ª–∞–¥–æ–∫. –ü–æ–≤–Ω—ñ—Å—Ç—é —Å—Ç–∞—Ç–∏—á–Ω–∏–π (–±–µ–∑ —Å–µ—Ä–≤–µ—Ä—É, –±–µ–∑ –∑–±—ñ—Ä–∫–∏). –î–µ–ø–ª–æ—ó—Ç—å—Å—è –Ω–∞ GitHub Pages.

## Tech Stack
- **HTML/CSS/JS** ‚Äî vanilla, –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤
- **–®—Ä–∏—Ñ—Ç**: Inter (Google Fonts)
- **–ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è**: localStorage (–∫–ª—é—á—ñ –∑ –ø—Ä–µ—Ñ—ñ–∫—Å–æ–º `bh_`)
- **–î–µ–ø–ª–æ–π**: GitHub Pages —á–µ—Ä–µ–∑ `.github/workflows/gh-pages.yml`

## File Structure
- `index.html` ‚Äî —î–¥–∏–Ω–∞ HTML-—Å—Ç–æ—Ä—ñ–Ω–∫–∞
- `styles.css` ‚Äî –≤—Å—ñ —Å—Ç–∏–ª—ñ, CSS-–∑–º—ñ–Ω–Ω—ñ, light/dark —Ç–µ–º–∏
- `app.js` ‚Äî –≤—Å—è –ª–æ–≥—ñ–∫–∞: —Ä–µ–Ω–¥–µ—Ä, –ø–æ—à—É–∫, spotlight, –º–æ–¥–∞–ª—ñ, —ñ–º–ø–æ—Ä—Ç/–µ–∫—Å–ø–æ—Ä—Ç
- `categories.js` ‚Äî —ñ—î—Ä–∞—Ä—Ö—ñ—á–Ω–µ –¥–µ—Ä–µ–≤–æ –∫–∞—Ç–µ–≥–æ—Ä—ñ–π `CAT_TREE` + —Ö–µ–ª–ø–µ—Ä–∏
- `data.js`, `data2.js`, `data3.js`, `data4.js`, `data5.js` ‚Äî –º–∞—Å–∏–≤ –∑–∞–∫–ª–∞–¥–æ–∫ `BM`

## Data Model
–ó–∞–∫–ª–∞–¥–∫–∞ (bookmark object):
```js
{ id: Number, n: '–ù–∞–∑–≤–∞', u: 'https://...', d: '–û–ø–∏—Å', c: 'category-id', t: ['—Ç–µ–≥1','—Ç–µ–≥2'], e: 'üîó', f: 1, inc: 0 }
```
- `f` ‚Äî –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π (1/0)
- `inc` ‚Äî –Ω–µ–π–º–æ–≤—ñ—Ä–Ω–æ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π (1/0)
- `c` ‚Äî ID –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó –∑ `CAT_TREE`

## Coding Rules
1. **–ú–æ–≤–∞ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É** ‚Äî —É–∫—Ä–∞—ó–Ω—Å—å–∫–∞.
2. **–ë–µ–∑ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π** ‚Äî –∂–æ–¥–Ω–∏—Ö npm, node_modules, bundlers. –í—Å–µ –ø—Ä–∞—Ü—é—î —è–∫ static files.
3. **–ë–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤** ‚Äî —á–∏—Å—Ç–∏–π vanilla JS. –ù–µ –¥–æ–¥–∞–≤–∞—Ç–∏ React, Vue —Ç–æ—â–æ.
4. **CSS-–∑–º—ñ–Ω–Ω—ñ** ‚Äî –≤—Å—ñ –∫–æ–ª—å–æ—Ä–∏ —á–µ—Ä–µ–∑ `var(--...)`. –ù–µ —Ö–∞—Ä–¥–∫–æ–¥–∏—Ç–∏ –∫–æ–ª—å–æ—Ä–∏.
5. **Dark theme** ‚Äî –∫–æ–∂–µ–Ω –Ω–æ–≤–∏–π UI-–µ–ª–µ–º–µ–Ω—Ç –º–∞—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –≤ –æ–±–æ—Ö —Ç–µ–º–∞—Ö.
6. **localStorage keys** ‚Äî –∑–∞–≤–∂–¥–∏ –∑ –ø—Ä–µ—Ñ—ñ–∫—Å–æ–º `bh_`.
7. **–ù–æ–≤—ñ –∑–∞–∫–ª–∞–¥–∫–∏** ‚Äî –¥–æ–¥–∞–≤–∞—Ç–∏ –≤ –Ω–æ–≤–∏–π `dataN.js` —Ñ–∞–π–ª, –ø—ñ–¥–∫–ª—é—á–∞—Ç–∏ –≤ `index.html` –ø–µ—Ä–µ–¥ `app.js`.
8. **–ù–æ–≤—ñ –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó** ‚Äî –¥–æ–¥–∞–≤–∞—Ç–∏ –≤ `categories.js` —É –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω–µ –º—ñ—Å—Ü–µ `CAT_TREE`.
9. **ID –∑–∞–∫–ª–∞–¥–æ–∫** ‚Äî –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ, –Ω–µ –¥—É–±–ª—é–≤–∞—Ç–∏. –ü–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –æ—Å—Ç–∞–Ω–Ω—ñ–π ID –≤ –æ—Å—Ç–∞–Ω–Ω—å–æ–º—É data-—Ñ–∞–π–ª—ñ.
10. **HTML-–µ–∫—Ä–∞–Ω—É–≤–∞–Ω–Ω—è** ‚Äî –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ `esc()` –¥–ª—è user-generated –∫–æ–Ω—Ç–µ–Ω—Ç—É.
11. **–ö–µ—à** ‚Äî –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ –¥–∞–Ω–∏—Ö –≤–∏–∫–ª–∏–∫–∞—Ç–∏ `invalidateCache()` –ø–µ—Ä–µ–¥ `refreshAll()`.
12. **Responsive** ‚Äî —Ç–µ—Å—Ç—É–≤–∞—Ç–∏ –Ω–∞ 540px —Ç–∞ 860px breakpoints.
13. **Commit style** ‚Äî Conventional Commits: `feat:`, `fix:`, `docs:`, `style:`, `refactor:`.

## Key Functions (app.js)
- `getAllBM()` ‚Äî –ø–æ–≤–µ—Ä—Ç–∞—î –≤—Å—ñ –∑–∞–∫–ª–∞–¥–∫–∏ (–∫–µ—à–æ–≤–∞–Ω–æ)
- `getFiltered()` ‚Äî —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è + —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è + scoring
- `render()` ‚Äî —Ä–µ–Ω–¥–µ—Ä –≥–æ–ª–æ–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç—É
- `refreshAll()` ‚Äî –ø–æ–≤–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è UI
- `scoreMatch(bm, q)` ‚Äî —Ä–∞–Ω–∂—É–≤–∞–Ω–Ω—è –ø–æ—à—É–∫—É
- `openSpotlight()` ‚Äî Ctrl+K —à–≤–∏–¥–∫–∏–π –ø–æ—à—É–∫
- `rowHTML(b, showCat)` ‚Äî HTML –æ–¥–Ω–æ–≥–æ —Ä—è–¥–∫–∞ –∑–∞–∫–ª–∞–¥–∫–∏
- `renderSubCatGroups(node, items)` ‚Äî —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–∏–π —Ä–µ–Ω–¥–µ—Ä –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ–π

## Key CSS Classes
- `.bm-row` ‚Äî —Ä—è–¥–æ–∫ –∑–∞–∫–ª–∞–¥–∫–∏
- `.cat-sec` ‚Äî —Å–µ–∫—Ü—ñ—è –∫–∞—Ç–µ–≥–æ—Ä—ñ—ó
- `.subcat-group` ‚Äî –ø—ñ–¥–∫–∞—Ç–µ–≥–æ—Ä—ñ—è
- `.spot-ov` ‚Äî spotlight overlay
- `.controls-bar` ‚Äî –ø–∞–Ω–µ–ª—å —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è/–≤–∏–≥–ª—è–¥—É
- `.cat-nav` ‚Äî –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–∞ –Ω–∞–≤—ñ–≥–∞—Ü—ñ—è –∫–∞—Ç–µ–≥–æ—Ä—ñ–π
- `.compact-view` ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–∏–π —Ä–µ–∂–∏–º
